{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/youn/Documents/younFolder/Demo/react-electron-pc/src/components/ErrorBoundary.tsx\";\nimport React from 'react';\nimport { Button, Result } from 'antd';\nimport { withRouter } from 'react-router-dom';\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.putError = error => {\n      console.error(error);\n      const type = process.env.REACT_APP_ENV;\n\n      if (type !== 'dev') {// 错误上报\n      }\n    };\n\n    this.state = {\n      hasError: false\n    };\n  }\n\n  static getDerivedStateFromError() {\n    // 更新 state 使下一次渲染能够显示降级后的 UI\n    return {\n      hasError: true\n    };\n  }\n\n  componentDidCatch(error) {\n    // 你同样可以将错误日志上报给服务器\n    this.putError(error);\n    console.warn('打印错误', error);\n  }\n\n  render() {\n    const {\n      history,\n      children,\n      type\n    } = this.props;\n    const {\n      hasError\n    } = this.state;\n\n    const content = /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u9875\\u9762\\u53D1\\u751F\\u4E86\\u70B9\\u5C0F\\u95EE\\u9898\\uFF0C\\u7ED9\\u60A8\\u5E26\\u6765\\u7684\\u4E0D\\u53D8\\u6211\\u4EEC\\u6DF1\\u8868\\u6B49\\u610F\\uFF01\\uFF01\\uFF01\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u60A8\\u53EF\\u4EE5\\u8054\\u7CFB\\u76F8\\u5173\\u4EBA\\u5458\\u5C3D\\u5FEB\\u8DDF\\u8E2A\\u5904\\u7406\\u6B64\\u95EE\\u9898\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u6211\\u4EEC\\u4F1A\\u5C3D\\u5FEB\\u5904\\u7406\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this);\n\n    if (hasError) {\n      // 你可以自定义降级后的 UI 并渲染\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-boundary\",\n        children: /*#__PURE__*/_jsxDEV(Result, {\n          status: \"error\",\n          title: \"\\u9875\\u9762\\u53D1\\u751F\\u4E86\\u70B9\\u5C0F\\u95EE\\u9898\",\n          subTitle: content,\n          extra: [type === 'inner' ? /*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            onClick: () => history.goBack(),\n            children: \"\\u8FD4\\u56DE\\u4E0A\\u4E00\\u9875\"\n          }, \"console\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            onClick: () => history.push('/home'),\n            children: \"\\u8FD4\\u56DE\\u9996\\u9875\"\n          }, \"console\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 17\n          }, this)]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this);\n    }\n\n    return children;\n  }\n\n}\n\nexport default _c = withRouter(ErrorBoundary);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/youn/Documents/younFolder/Demo/react-electron-pc/src/components/ErrorBoundary.tsx"],"names":["React","Button","Result","withRouter","ErrorBoundary","Component","constructor","props","putError","error","console","type","process","env","REACT_APP_ENV","state","hasError","getDerivedStateFromError","componentDidCatch","warn","render","history","children","content","goBack","push"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,EAAiBC,MAAjB,QAA+B,MAA/B;AACA,SAASC,UAAT,QAA2B,kBAA3B;;AAEA,MAAMC,aAAN,SAA4BJ,KAAK,CAACK,SAAlC,CAAsD;AACpDC,EAAAA,WAAW,CAACC,KAAD,EAAa;AACtB,UAAMA,KAAN;;AADsB,SAgBxBC,QAhBwB,GAgBZC,KAAD,IAAkB;AAC3BC,MAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACA,YAAME,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,aAAzB;;AAEA,UAAIH,IAAI,KAAK,KAAb,EAAoB,CAClB;AACD;AACF,KAvBuB;;AAEtB,SAAKI,KAAL,GAAa;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAAb;AACD;;AAED,SAAOC,wBAAP,GAAkC;AAChC;AACA,WAAO;AAAED,MAAAA,QAAQ,EAAE;AAAZ,KAAP;AACD;;AAEDE,EAAAA,iBAAiB,CAACT,KAAD,EAAe;AAC9B;AACA,SAAKD,QAAL,CAAcC,KAAd;AACAC,IAAAA,OAAO,CAACS,IAAR,CAAa,MAAb,EAAqBV,KAArB;AACD;;AAUDW,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEC,MAAAA,OAAF;AAAWC,MAAAA,QAAX;AAAqBX,MAAAA;AAArB,QAA8B,KAAKJ,KAAzC;AACA,UAAM;AAAES,MAAAA;AAAF,QAAe,KAAKD,KAA1B;;AACA,UAAMQ,OAAO,gBACX;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;;AAOA,QAAIP,QAAJ,EAAc;AACZ;AACA,0BACE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA,+BACE,QAAC,MAAD;AACE,UAAA,MAAM,EAAC,OADT;AAEE,UAAA,KAAK,EAAC,wDAFR;AAGE,UAAA,QAAQ,EAAEO,OAHZ;AAIE,UAAA,KAAK,EAAE,CACLZ,IAAI,KAAK,OAAT,gBACE,QAAC,MAAD;AAAQ,YAAA,IAAI,EAAC,SAAb;AAAqC,YAAA,OAAO,EAAE,MAAMU,OAAO,CAACG,MAAR,EAApD;AAAA;AAAA,aAA2B,SAA3B;AAAA;AAAA;AAAA;AAAA,kBADF,gBAKE,QAAC,MAAD;AAAQ,YAAA,IAAI,EAAC,SAAb;AAAqC,YAAA,OAAO,EAAE,MAAMH,OAAO,CAACI,IAAR,CAAa,OAAb,CAApD;AAAA;AAAA,aAA2B,SAA3B;AAAA;AAAA;AAAA;AAAA,kBANG;AAJT;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF;AAoBD;;AAED,WAAOH,QAAP;AACD;;AA5DmD;;AA8DtD,oBAAenB,UAAU,CAACC,aAAD,CAAzB","sourcesContent":["import React from 'react';\nimport { Button, Result } from 'antd';\nimport { withRouter } from 'react-router-dom';\n\nclass ErrorBoundary extends React.Component<any, any> {\n  constructor(props: any) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError() {\n    // 更新 state 使下一次渲染能够显示降级后的 UI\n    return { hasError: true };\n  }\n\n  componentDidCatch(error: Error) {\n    // 你同样可以将错误日志上报给服务器\n    this.putError(error);\n    console.warn('打印错误', error);\n  }\n\n  putError = (error: Error) => {\n    console.error(error);\n    const type = process.env.REACT_APP_ENV;\n\n    if (type !== 'dev') {\n      // 错误上报\n    }\n  };\n  render() {\n    const { history, children, type } = this.props;\n    const { hasError } = this.state;\n    const content = (\n      <div>\n        <p>页面发生了点小问题，给您带来的不变我们深表歉意！！！</p>\n        <p>您可以联系相关人员尽快跟踪处理此问题</p>\n        <p>我们会尽快处理</p>\n      </div>\n    );\n    if (hasError) {\n      // 你可以自定义降级后的 UI 并渲染\n      return (\n        <div className=\"error-boundary\">\n          <Result\n            status=\"error\"\n            title=\"页面发生了点小问题\"\n            subTitle={content}\n            extra={[\n              type === 'inner' ? (\n                <Button type=\"primary\" key=\"console\" onClick={() => history.goBack()}>\n                  返回上一页\n                </Button>\n              ) : (\n                <Button type=\"primary\" key=\"console\" onClick={() => history.push('/home')}>\n                  返回首页\n                </Button>\n              ),\n            ]}\n          ></Result>\n        </div>\n      );\n    }\n\n    return children;\n  }\n}\nexport default withRouter(ErrorBoundary);\n"]},"metadata":{},"sourceType":"module"}