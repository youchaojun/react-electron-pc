{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { addMenuList } from '@/store/actionCreators/public';\nimport { dropByCacheKey } from 'react-router-cache-route';\n\nconst useCloseMenuTab = () => {\n  _s();\n\n  const result = useSelector(state => state.publicReducer);\n  const menuTabList = result.menuTab;\n  const currentTabIndex = result.currentTabIndex;\n  const location = useLocation();\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const closeTab = () => {\n    history.go(-1);\n    setTimeout(() => {\n      const path = location.pathname;\n      let newList = [...menuTabList];\n      const newFilterList = newList[currentTabIndex].filter(item => item.path !== path);\n      newList[currentTabIndex] = newFilterList;\n      dropByCacheKey(path);\n      dispatch(addMenuList(newList));\n    }, 100);\n  };\n\n  return closeTab;\n};\n\n_s(useCloseMenuTab, \"F/V50gigfxqXt3bAwR8wd1rJdAQ=\", false, function () {\n  return [useSelector, useLocation, useHistory, useDispatch];\n});\n\nexport default useCloseMenuTab;","map":{"version":3,"sources":["/Users/youn/Documents/younFolder/Demo/react-electron-pc/src/components/useCloseMenuTab.tsx"],"names":["useDispatch","useSelector","useHistory","useLocation","addMenuList","dropByCacheKey","useCloseMenuTab","result","state","publicReducer","menuTabList","menuTab","currentTabIndex","location","history","dispatch","closeTab","go","setTimeout","path","pathname","newList","newFilterList","filter","item"],"mappings":";;AAEA,SAASA,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AAEA,SAASC,UAAT,EAAqBC,WAArB,QAAwC,kBAAxC;AACA,SAASC,WAAT,QAA4B,+BAA5B;AACA,SAASC,cAAT,QAA+B,0BAA/B;;AAEA,MAAMC,eAAe,GAAG,MAAgB;AAAA;;AACtC,QAAMC,MAAM,GAAGN,WAAW,CAAkCO,KAAD,IAAWA,KAAK,CAACC,aAAlD,CAA1B;AACA,QAAMC,WAAW,GAAGH,MAAM,CAACI,OAA3B;AACA,QAAMC,eAAe,GAAGL,MAAM,CAACK,eAA/B;AACA,QAAMC,QAAQ,GAAGV,WAAW,EAA5B;AACA,QAAMW,OAAO,GAAGZ,UAAU,EAA1B;AACA,QAAMa,QAAQ,GAAGf,WAAW,EAA5B;;AAEA,QAAMgB,QAAQ,GAAG,MAAM;AACrBF,IAAAA,OAAO,CAACG,EAAR,CAAW,CAAC,CAAZ;AACAC,IAAAA,UAAU,CAAC,MAAM;AACf,YAAMC,IAAI,GAAGN,QAAQ,CAACO,QAAtB;AACA,UAAIC,OAAsB,GAAG,CAAC,GAAGX,WAAJ,CAA7B;AACA,YAAMY,aAAa,GAAGD,OAAO,CAACT,eAAD,CAAP,CAAyBW,MAAzB,CAAiCC,IAAD,IAAUA,IAAI,CAACL,IAAL,KAAcA,IAAxD,CAAtB;AACAE,MAAAA,OAAO,CAACT,eAAD,CAAP,GAA2BU,aAA3B;AACAjB,MAAAA,cAAc,CAACc,IAAD,CAAd;AACAJ,MAAAA,QAAQ,CAACX,WAAW,CAACiB,OAAD,CAAZ,CAAR;AACD,KAPS,EAOP,GAPO,CAAV;AAQD,GAVD;;AAWA,SAAOL,QAAP;AACD,CApBD;;GAAMV,e;UACWL,W,EAGEE,W,EACDD,U,EACCF,W;;;AAgBnB,eAAeM,eAAf","sourcesContent":["import { PublicReducerIF } from '@/store/reducers';\nimport { PublicStateIF } from '@/store/states/public';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { MenuTabIF } from '@/typings/common';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { addMenuList } from '@/store/actionCreators/public';\nimport { dropByCacheKey } from 'react-router-cache-route';\n\nconst useCloseMenuTab = (): Function => {\n  const result = useSelector<PublicReducerIF, PublicStateIF>((state) => state.publicReducer);\n  const menuTabList = result.menuTab;\n  const currentTabIndex = result.currentTabIndex;\n  const location = useLocation();\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const closeTab = () => {\n    history.go(-1);\n    setTimeout(() => {\n      const path = location.pathname;\n      let newList: MenuTabIF[][] = [...menuTabList];\n      const newFilterList = newList[currentTabIndex].filter((item) => item.path !== path);\n      newList[currentTabIndex] = newFilterList;\n      dropByCacheKey(path);\n      dispatch(addMenuList(newList));\n    }, 100);\n  };\n  return closeTab;\n};\n\nexport default useCloseMenuTab;\n"]},"metadata":{},"sourceType":"module"}