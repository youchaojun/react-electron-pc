{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/youn/Documents/younFolder/Demo/react-electron-pc/src/layouts/MenuBreadcrumb.tsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Breadcrumb } from 'antd';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport routerInsiderConfig from '@/routers/routerInsiderConfig';\nimport { useSelector } from 'react-redux';\nimport { menuRouter } from '@/routers/menuRouter';\nimport IconFont from '@/components/IconFont';\nimport { getParentRouter } from '@/routers/routersCommon';\nimport { styleBtn } from '@/utils';\n\nconst MenuBreadcrumb = ({\n  onReload\n}) => {\n  _s();\n\n  var _menuTabList$findMenu;\n\n  const location = useLocation();\n  const history = useHistory();\n  const result = useSelector(state => state.publicReducer);\n  const menuTab = result.menuTab;\n  const currentTabIndex = result.currentTabIndex;\n  const menuTabList = menuTab[currentTabIndex];\n  const {\n    pathname,\n    state\n  } = location;\n  const findMenuActiveIdx = menuTabList.findIndex(item => item.active);\n  const tabList = getParentRouter(pathname, routerInsiderConfig);\n  const index = tabList.findIndex(item => item.isTab === false);\n  tabList.splice(0, index - 1);\n  const currentPathList = (_menuTabList$findMenu = menuTabList[findMenuActiveIdx]) === null || _menuTabList$findMenu === void 0 ? void 0 : _menuTabList$findMenu.pathList; // 点击刷新\n\n  const onReloadBread = () => {\n    const idx = menuTabList.findIndex(item => item.active);\n    onReload(idx);\n  }; // 点击后退\n\n\n  const onBack = () => {\n    const idx = currentPathList.findIndex(item => (item === null || item === void 0 ? void 0 : item.path) === pathname);\n\n    if (idx !== -1) {\n      history.push({\n        pathname: currentPathList[idx - 1].path,\n        state: currentPathList[idx - 1].state\n      });\n    }\n  }; // 点击前进\n\n\n  const onPrev = () => {\n    const idx = currentPathList.findIndex(item => (item === null || item === void 0 ? void 0 : item.path) === pathname);\n\n    if (idx !== -1) {\n      history.push({\n        pathname: currentPathList[idx + 1].path,\n        state: currentPathList[idx + 1].state\n      });\n    }\n  }; // 过滤返回按钮置灰或黑白\n\n\n  const filterBack = () => {\n    var _tabList$;\n\n    let style;\n\n    if (((_tabList$ = tabList[0]) === null || _tabList$ === void 0 ? void 0 : _tabList$.basePath) === '') {\n      style = tabList.length > 2 ? undefined : styleBtn;\n    } else {\n      style = tabList.length > 1 ? undefined : styleBtn;\n    }\n\n    return style;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ment-breadcrumb\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"action-btn\",\n      children: [/*#__PURE__*/_jsxDEV(IconFont, {\n        type: \"icon-backwardarrow--copy\",\n        style: filterBack(),\n        onClick: onBack\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IconFont, {\n        type: \"icon-backwardarrow-\",\n        style: tabList.length < (currentPathList === null || currentPathList === void 0 ? void 0 : currentPathList.length) ? undefined : styleBtn,\n        onClick: onPrev\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IconFont, {\n        type: \"icon-shuaxin\",\n        onClick: onReloadBread\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Breadcrumb, {\n      children: [/*#__PURE__*/_jsxDEV(Breadcrumb.Item, {\n        children: [\"\\u5F53\\u524D\\u4F4D\\u7F6E\\uFF1A \", menuRouter[currentTabIndex].name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), tabList.map(val => /*#__PURE__*/_jsxDEV(Breadcrumb.Item, {\n        children: val.name\n      }, val.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MenuBreadcrumb, \"9RWNAiffN42R6D1yc0C80AOKqyw=\", false, function () {\n  return [useLocation, useHistory, useSelector];\n});\n\n_c = MenuBreadcrumb;\nexport default MenuBreadcrumb;\n\nvar _c;\n\n$RefreshReg$(_c, \"MenuBreadcrumb\");","map":{"version":3,"sources":["/Users/youn/Documents/younFolder/Demo/react-electron-pc/src/layouts/MenuBreadcrumb.tsx"],"names":["React","Breadcrumb","useHistory","useLocation","routerInsiderConfig","useSelector","menuRouter","IconFont","getParentRouter","styleBtn","MenuBreadcrumb","onReload","location","history","result","state","publicReducer","menuTab","currentTabIndex","menuTabList","pathname","findMenuActiveIdx","findIndex","item","active","tabList","index","isTab","splice","currentPathList","pathList","onReloadBread","idx","onBack","path","push","onPrev","filterBack","style","basePath","length","undefined","name","map","val","id"],"mappings":"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","sourcesContent":["import React, { FC, ReactElement, CSSProperties } from 'react';\nimport { Breadcrumb } from 'antd';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport routerInsiderConfig from '@/routers/routerInsiderConfig';\nimport { useSelector } from 'react-redux';\nimport { PublicReducerIF } from '@/store/reducers';\nimport { PublicStateIF } from '@/store/states/public';\nimport { menuRouter } from '@/routers/menuRouter';\nimport IconFont from '@/components/IconFont';\nimport { getParentRouter } from '@/routers/routersCommon';\nimport { styleBtn } from '@/utils';\n\ninterface ISProps {\n  /*eslint-disable */\n  onReload(idx: number): void;\n}\nconst MenuBreadcrumb: FC<ISProps> = ({ onReload }: ISProps): ReactElement => {\n  const location = useLocation();\n  const history = useHistory();\n  const result = useSelector<PublicReducerIF, PublicStateIF>((state) => state.publicReducer);\n  const menuTab = result.menuTab;\n  const currentTabIndex = result.currentTabIndex;\n  const menuTabList = menuTab[currentTabIndex];\n  const { pathname, state } = location;\n  const findMenuActiveIdx = menuTabList.findIndex((item) => item.active);\n  const tabList = getParentRouter(pathname, routerInsiderConfig);\n  const index = tabList.findIndex((item) => item.isTab === false);\n  tabList.splice(0, index - 1);\n\n  const currentPathList = menuTabList[findMenuActiveIdx]?.pathList;\n\n  // 点击刷新\n  const onReloadBread = () => {\n    const idx = menuTabList.findIndex((item) => item.active);\n    onReload(idx);\n  };\n  // 点击后退\n  const onBack = () => {\n    const idx = currentPathList.findIndex((item) => item?.path === pathname);\n    if (idx !== -1) {\n      history.push({\n        pathname: currentPathList[idx - 1].path,\n        state: currentPathList[idx - 1].state,\n      });\n    }\n  };\n\n  // 点击前进\n  const onPrev = () => {\n    const idx = currentPathList.findIndex((item) => item?.path === pathname);\n    if (idx !== -1) {\n      history.push({\n        pathname: currentPathList[idx + 1].path,\n        state: currentPathList[idx + 1].state,\n      });\n    }\n  };\n\n  // 过滤返回按钮置灰或黑白\n  const filterBack = (): CSSProperties | undefined => {\n    let style: CSSProperties | undefined;\n    if (tabList[0]?.basePath === '') {\n      style = tabList.length > 2 ? undefined : styleBtn;\n    } else {\n      style = tabList.length > 1 ? undefined : styleBtn;\n    }\n    return style;\n  };\n  return (\n    <div className=\"ment-breadcrumb\">\n      <div className=\"action-btn\">\n        <IconFont type=\"icon-backwardarrow--copy\" style={filterBack()} onClick={onBack} />\n        <IconFont\n          type=\"icon-backwardarrow-\"\n          style={tabList.length < currentPathList?.length ? undefined : styleBtn}\n          onClick={onPrev}\n        />\n        <IconFont type=\"icon-shuaxin\" onClick={onReloadBread} />\n      </div>\n      <Breadcrumb>\n        <Breadcrumb.Item>当前位置： {menuRouter[currentTabIndex].name}</Breadcrumb.Item>\n        {tabList.map((val) => (\n          <Breadcrumb.Item key={val.id}>{val.name}</Breadcrumb.Item>\n        ))}\n      </Breadcrumb>\n    </div>\n  );\n};\nexport default MenuBreadcrumb;\n"]},"metadata":{},"sourceType":"module"}